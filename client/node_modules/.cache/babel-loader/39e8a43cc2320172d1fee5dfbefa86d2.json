{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\XreFullx\\\\Desktop\\\\TrelloClone2\\\\client\\\\src\\\\components\\\\pages\\\\Board.js\",\n  _s = $RefreshSig$();\nimport { getTasks, getStatuses } from '../../actions/board';\nimport React, { useState, useEffect } from \"react\";\nimport Item from \"../board/Item\";\nimport DropWrapper from \"../board/DropWrapper\";\nimport Col from \"../board/Col\";\nimport axios from 'axios';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Board = () => {\n  _s();\n  console.log(document.classList);\n  const [statuses, setStatus] = useState([]);\n  useEffect(() => {\n    axios.get(\"https://help-maxbonus.ru/api/status\").then(data => {\n      var _data$data;\n      setStatus(data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.statuses);\n    });\n    ;\n  });\n  const [items, setItems] = useState([]);\n  const fetchItemsData = () => {\n    fetch(\"https://help-maxbonus.ru/api/task\").then(response => {\n      return response.json();\n    }).then(data => {\n      setItems(data === null || data === void 0 ? void 0 : data.task_info);\n    });\n  };\n  useEffect(() => {\n    fetchItemsData();\n  }, []);\n  const onDrop = (item, monitor, status) => {\n    const mapping = statuses.find(si => si.idStatus === status.idStatus);\n    setItems(prevState => {\n      const newItems = prevState.filter(i => i.id !== item.id).concat({\n        ...item,\n        status\n      });\n      return [...newItems];\n    });\n  };\n  const moveItem = (dragIndex, hoverIndex) => {\n    const item = items[dragIndex];\n    setItems(prevState => {\n      const newItems = prevState.filter((i, idx) => idx !== dragIndex);\n      newItems.splice(hoverIndex, 0, item);\n      return [...newItems];\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(DndProvider, {\n    backend: HTML5Backend,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: statuses.map(s => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"col-header\",\n            children: s.nameStatus.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DropWrapper, {\n            onDrop: onDrop,\n            status: s.nameStatus,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: items.filter(i => i.id_status === s.idStatus).map((i, idx) => /*#__PURE__*/_jsxDEV(Item, {\n                item: i,\n                index: idx,\n                moveItem: moveItem,\n                status: s\n              }, i.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 54\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, `status${s.idStatus}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }, this);\n};\n_s(Board, \"xe26GD81do0DibdkTMMqcWnvYow=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["getTasks","getStatuses","React","useState","useEffect","Item","DropWrapper","Col","axios","DndProvider","HTML5Backend","jsxDEV","_jsxDEV","Board","_s","console","log","document","classList","statuses","setStatus","get","then","data","_data$data","items","setItems","fetchItemsData","fetch","response","json","task_info","onDrop","item","monitor","status","mapping","find","si","idStatus","prevState","newItems","filter","i","id","concat","moveItem","dragIndex","hoverIndex","idx","splice","backend","children","className","map","s","nameStatus","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","id_status","index","_c","$RefreshReg$"],"sources":["C:/Users/XreFullx/Desktop/TrelloClone2/client/src/components/pages/Board.js"],"sourcesContent":["import {getTasks,getStatuses } from '../../actions/board';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Item from \"../board/Item\";\r\nimport DropWrapper from \"../board/DropWrapper\";\r\nimport Col from \"../board/Col\";\r\nimport axios from 'axios';\r\nimport { DndProvider } from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\n\r\n\r\nconst Board = () => {\r\n\r\n\r\n  console.log(document.classList);\r\n\r\n\r\n  const [statuses, setStatus] = useState([]);\r\n  useEffect(()=>{\r\n\r\n    axios\r\n    .get(\"https://help-maxbonus.ru/api/status\")\r\n    .then(data =>{\r\n       setStatus(data?.data?.statuses);\r\n    });\r\n    ;\r\n  })\r\n  \r\n  const [items, setItems] = useState([]);\r\n\r\n  const fetchItemsData = () => {\r\n    fetch(\"https://help-maxbonus.ru/api/task\")\r\n      .then(response => {\r\n        return response.json()\r\n      })\r\n      .then(data => {\r\n        setItems(data?.task_info)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchItemsData();\r\n  }, [])\r\n\r\n\r\n  const onDrop = (item, monitor, status) => {\r\n    const mapping = statuses.find(si => si.idStatus === status.idStatus);\r\n\r\n    setItems(prevState => {\r\n        const newItems = prevState\r\n            .filter(i => i.id !== item.id)\r\n            .concat({ ...item, status});\r\n        return [ ...newItems ];\r\n    });\r\n};\r\n\r\nconst moveItem = (dragIndex, hoverIndex) => {\r\n    const item = items[dragIndex];\r\n    setItems(prevState => {\r\n        const newItems = prevState.filter((i, idx) => idx !== dragIndex);\r\n        newItems.splice(hoverIndex, 0, item);\r\n        return  [ ...newItems ];\r\n    });\r\n};\r\n\r\n\r\n\r\n    return (  \r\n      \r\n      <DndProvider backend={HTML5Backend} >\r\n        <div className={\"row\"}>\r\n        {statuses.map(s => {\r\n                return (\r\n                    \r\n                    <div key={`status${s.idStatus}`} className={\"col-wrapper\"}>\r\n                        <h2 className={\"col-header\"}>{s.nameStatus.toUpperCase()}</h2>\r\n                        <DropWrapper onDrop={onDrop} status={s.nameStatus}>\r\n                            <Col>\r\n                            {items\r\n                                    .filter(i => i.id_status === s.idStatus)\r\n                                    .map((i, idx) => <Item key={i.id} item={i} index={idx} moveItem={moveItem} status={s} />)\r\n                                }\r\n                            </Col>\r\n                        </DropWrapper>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n        </DndProvider>\r\n    );\r\n};\r\n\r\nexport default Board;"],"mappings":"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"},"metadata":{},"sourceType":"module"}