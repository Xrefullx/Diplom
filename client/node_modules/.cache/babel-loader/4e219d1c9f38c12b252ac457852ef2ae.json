{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/XreFullx/Desktop/TrelloClone2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/XreFullx/Desktop/TrelloClone2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/XreFullx/Desktop/TrelloClone2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{createRequest}from'../../actions/request';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewRequestModal=function NewRequestModal(_ref){var open=_ref.open,onClose=_ref.onClose;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reasons=_useState2[0],setReasons=_useState2[1];var _onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var fieldInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(e);fieldInfo=e.target;createRequest(fieldInfo.fio.value,fieldInfo.reasonID.value,fieldInfo.phone.value,fieldInfo.email.value,fieldInfo.company.value,fieldInfo.comment.value);case 4:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();var fetchReasonsData=function fetchReasonsData(){fetch(\"https://help-maxbonus.ru/api/reason\").then(function(response){return response.json();}).then(function(data){setReasons(data.reason);});};reasons.length===0?fetchReasonsData():0;if(!open)return null;document.body.style.overflow='hidden';return/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"newRequestModal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headerRequestModal\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"requestHeader\",children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{className:\"closeRequest\",onClick:onClose})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"requestInputs\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"requestInput\",name:\"fio\",placeholder:\"\\u0424\\u0418\\u041E\",required:true},\"fio\"),/*#__PURE__*/_jsx(\"input\",{className:\"requestInput\",name:\"phone\",placeholder:\"+7 (999) 999-99-99\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"requestInput\",name:\"email\",placeholder:\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"requestInput\",name:\"company\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\",required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"reasonID\",className:\"requestInput\",placeholder:\"\\u041F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{selected:\"true\",disabled:\"disabled\",children:\"\\u041F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F:\"}),reasons.map(function(r){return/*#__PURE__*/_jsx(\"option\",{value:r.id,children:r.nameReason},'reason'+r.id);})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"requestInput requestInput_description\",name:\"comment\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn_inner requestBtn pointer\",type:\"submit\",children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"})]})})]})});};export default NewRequestModal;","map":{"version":3,"names":["React","useState","createRequest","axios","jsx","_jsx","jsxs","_jsxs","NewRequestModal","_ref","open","onClose","_useState","_useState2","_slicedToArray","reasons","setReasons","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","fieldInfo","wrap","_callee$","_context","prev","next","preventDefault","console","log","target","fio","value","reasonID","phone","email","company","comment","stop","_x","apply","arguments","fetchReasonsData","fetch","then","response","json","data","reason","length","document","body","style","overflow","className","onClick","children","name","placeholder","required","selected","disabled","map","r","id","nameReason","type"],"sources":["C:/Users/XreFullx/Desktop/TrelloClone2/client/src/components/landing/NewRequestModal.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport { createRequest } from '../../actions/request';\r\nimport axios from 'axios';\r\n\r\nconst NewRequestModal = ({open, onClose}) => {\r\n\r\n  const [reasons, setReasons] = useState([]);\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(e);\r\n    const fieldInfo = e.target;\r\n    createRequest(fieldInfo.fio.value,fieldInfo.reasonID.value,fieldInfo.phone.value,fieldInfo.email.value,fieldInfo.company.value,fieldInfo.comment.value);\r\n\r\n  };\r\n\r\n  \r\n  const fetchReasonsData = () => {\r\n    fetch(\"https://help-maxbonus.ru/api/reason\")\r\n      .then(response => {\r\n        \r\n        return response.json();\r\n       \r\n      })\r\n      .then(data => {\r\n        setReasons(data.reason);\r\n      })\r\n  }\r\n (reasons.length === 0) ? fetchReasonsData() : 0;\r\n\r\nif (!open) return null;\r\ndocument.body.style.overflow='hidden';\r\n  return (\r\n    <div className='overlay' onClick={onClose} >\r\n      <div className=\"newRequestModal\">\r\n        <div className=\"headerRequestModal\">\r\n        <h3 className=\"requestHeader\">Оформить заявку</h3>\r\n        <div className=\"closeRequest\" onClick={onClose}></div>\r\n        </div> \r\n        <form onSubmit={(e) => onSubmit(e)}>\r\n        <div className=\"requestInputs\">\r\n          <input className='requestInput' key=\"fio\" name=\"fio\" placeholder='ФИО' required></input>\r\n          <input className='requestInput' name=\"phone\" placeholder='+7 (999) 999-99-99' required></input>\r\n          <input className='requestInput' name=\"email\" placeholder='Электронная почта' required></input>\r\n          <input className='requestInput' name=\"company\" placeholder='Название компании' required></input>\r\n          <select name=\"reasonID\" className='requestInput' placeholder='Причина обращения' required>\r\n            <option selected=\"true\" disabled=\"disabled\">Причина обращения:</option>\r\n            {reasons.map(r =>  <option key={'reason'+r.id} value={r.id}>{r.nameReason}</option>)}\r\n            \r\n          </select>\r\n          <textarea className='requestInput requestInput_description' name=\"comment\" placeholder='Описание проблемы'></textarea>\r\n          <button className='btn btn_inner requestBtn pointer' type=\"submit\">Оставить заявку</button>\r\n          \r\n        </div>\r\n        </form>\r\n      </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default NewRequestModal"],"mappings":"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"},"metadata":{},"sourceType":"module"}