{"ast":null,"code":"import { invariant } from '@react-dnd/invariant';\nlet isCallingCanDrop = false;\nexport class DropTargetMonitorImpl {\n  receiveHandlerId(targetId) {\n    this.targetId = targetId;\n  }\n  getHandlerId() {\n    return this.targetId;\n  }\n  subscribeToStateChange(listener, options) {\n    return this.internalMonitor.subscribeToStateChange(listener, options);\n  }\n  canDrop() {\n    // Cut out early if the target id has not been set. This should prevent errors\n    // where the user has an older version of dnd-core like in\n    // https://github.com/react-dnd/react-dnd/issues/1310\n    if (!this.targetId) {\n      return false;\n    }\n    invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n    try {\n      isCallingCanDrop = true;\n      return this.internalMonitor.canDropOnTarget(this.targetId);\n    } finally {\n      isCallingCanDrop = false;\n    }\n  }\n  isOver(options) {\n    if (!this.targetId) {\n      return false;\n    }\n    return this.internalMonitor.isOverTarget(this.targetId, options);\n  }\n  getItemType() {\n    return this.internalMonitor.getItemType();\n  }\n  getItem() {\n    return this.internalMonitor.getItem();\n  }\n  getDropResult() {\n    return this.internalMonitor.getDropResult();\n  }\n  didDrop() {\n    return this.internalMonitor.didDrop();\n  }\n  getInitialClientOffset() {\n    return this.internalMonitor.getInitialClientOffset();\n  }\n  getInitialSourceClientOffset() {\n    return this.internalMonitor.getInitialSourceClientOffset();\n  }\n  getSourceClientOffset() {\n    return this.internalMonitor.getSourceClientOffset();\n  }\n  getClientOffset() {\n    return this.internalMonitor.getClientOffset();\n  }\n  getDifferenceFromInitialOffset() {\n    return this.internalMonitor.getDifferenceFromInitialOffset();\n  }\n  constructor(manager) {\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n}","map":{"version":3,"sources":["../../src/internals/DropTargetMonitorImpl.ts"],"names":["invariant","isCallingCanDrop","DropTargetMonitorImpl","targetId","manager","internalMonitor","getMonitor","receiveHandlerId","getHandlerId","subscribeToStateChange","listener","options","canDrop","canDropOnTarget","isOver","isOverTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset"],"mappings":"AAAA,SAASA,SAAS,QAAQ,sBAAsB;AAYhD,IAAIC,gBAAgB,GAAG,KAAK;AAE5B,OAAO,MAAMC,qBAAqB,CAAA;EAQ1BK,gBAAgB,CAACJ,QAA2B,EAAQ;IAC1D,IAAI,CAACA,QAAQ,GAAGA,QAAQ;EACxB;EAEMK,YAAY,CAAA,EAAsB;IACxC,OAAO,IAAI,CAACL,QAAQ;EACpB;EAEMM,sBAAsB,CAC5BC,QAAkB,EAClBC,OAAuC,EACzB;IACd,OAAO,IAAI,CAACN,eAAe,CAACI,sBAAsB,CAACC,QAAQ,EAAEC,OAAO,CAAC;EACrE;EAEMC,OAAO,CAAA,EAAY;IACzB;IACA;IACA;IACA,IAAI,CAAC,IAAI,CAACT,QAAQ,EAAE;MACnB,OAAO,KAAK;IACZ;IACDH,SAAS,CACR,CAACC,gBAAgB,EACjB,2EAA2E,GAC1E,8EAA8E,CAC/E;IAED,IAAI;MACHA,gBAAgB,GAAG,IAAI;MACvB,OAAO,IAAI,CAACI,eAAe,CAACQ,eAAe,CAAC,IAAI,CAACV,QAAQ,CAAC;KAC1D,SAAS;MACTF,gBAAgB,GAAG,KAAK;IACxB;EACD;EAEMa,MAAM,CAACH,OAA+B,EAAW;IACvD,IAAI,CAAC,IAAI,CAACR,QAAQ,EAAE;MACnB,OAAO,KAAK;IACZ;IACD,OAAO,IAAI,CAACE,eAAe,CAACU,YAAY,CAAC,IAAI,CAACZ,QAAQ,EAAEQ,OAAO,CAAC;EAChE;EAEMK,WAAW,CAAA,EAAsB;IACvC,OAAO,IAAI,CAACX,eAAe,CAACW,WAAW,CAAA,CAAE;EACzC;EAEMC,OAAO,CAAA,EAAQ;IACrB,OAAO,IAAI,CAACZ,eAAe,CAACY,OAAO,CAAA,CAAE;EACrC;EAEMC,aAAa,CAAA,EAAQ;IAC3B,OAAO,IAAI,CAACb,eAAe,CAACa,aAAa,CAAA,CAAE;EAC3C;EAEMC,OAAO,CAAA,EAAY;IACzB,OAAO,IAAI,CAACd,eAAe,CAACc,OAAO,CAAA,CAAE;EACrC;EAEMC,sBAAsB,CAAA,EAAmB;IAC/C,OAAO,IAAI,CAACf,eAAe,CAACe,sBAAsB,CAAA,CAAE;EACpD;EAEMC,4BAA4B,CAAA,EAAmB;IACrD,OAAO,IAAI,CAAChB,eAAe,CAACgB,4BAA4B,CAAA,CAAE;EAC1D;EAEMC,qBAAqB,CAAA,EAAmB;IAC9C,OAAO,IAAI,CAACjB,eAAe,CAACiB,qBAAqB,CAAA,CAAE;EACnD;EAEMC,eAAe,CAAA,EAAmB;IACxC,OAAO,IAAI,CAAClB,eAAe,CAACkB,eAAe,CAAA,CAAE;EAC7C;EAEMC,8BAA8B,CAAA,EAAmB;IACvD,OAAO,IAAI,CAACnB,eAAe,CAACmB,8BAA8B,CAAA,CAAE;EAC5D;EAjFD,WAAA,CAAmBpB,OAAwB,EAAE;IAF7C,IAAA,CAAQD,QAAQ,GAAsB,IAAI;IAGzC,IAAI,CAACE,eAAe,GAAGD,OAAO,CAACE,UAAU,CAAA,CAAE;EAC3C;AAgFD","sourcesContent":["import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../types/index.js'\n\nlet isCallingCanDrop = false\n\nexport class DropTargetMonitorImpl implements DropTargetMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate targetId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(targetId: Identifier | null): void {\n\t\tthis.targetId = targetId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.targetId\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic canDrop(): boolean {\n\t\t// Cut out early if the target id has not been set. This should prevent errors\n\t\t// where the user has an older version of dnd-core like in\n\t\t// https://github.com/react-dnd/react-dnd/issues/1310\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingCanDrop,\n\t\t\t'You may not call monitor.canDrop() inside your canDrop() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrop = true\n\t\t\treturn this.internalMonitor.canDropOnTarget(this.targetId)\n\t\t} finally {\n\t\t\tisCallingCanDrop = false\n\t\t}\n\t}\n\n\tpublic isOver(options?: { shallow?: boolean }): boolean {\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\treturn this.internalMonitor.isOverTarget(this.targetId, options)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}